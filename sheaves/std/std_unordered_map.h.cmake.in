
//
// Copyright (c) 2013 Limit Point Systems, Inc. 
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//

#ifndef STD_UNORDERED_MAP_H
#define STD_UNORDERED_MAP_H

#include <unordered_map>

// If hash_cstr has not been defined by std_unordered_set,
// define it.

#ifndef HAVE_HASH_CSTR
#define HAVE_HASH_CSTR 1

#ifndef STD_CSTRING_H
#include "std_cstring.h"
#endif

namespace std
{
  struct key_test
  {
    public:
        bool operator()(const char* s1, const char* s2) const
          {
    	return strcmp(s1, s2) == 0;
          }
  };
    
  struct hash_cstr
  {
      size_t operator()(const char* __s) const
      { 
        unsigned long __h = 0;
        for ( ; *__s; ++__s)
          __h = 5*__h + *__s;
        return size_t(__h);
      }
  };
}

#endif

#endif // STD_UNORDERED_MAP_H
